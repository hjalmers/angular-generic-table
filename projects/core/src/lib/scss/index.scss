$highlight-background-color: #ffdd00 !default;
$style-selector: '.table' !default;
$footer-header-font-weight: 400 !default;
$footer-cell-font-weight: 500 !default;
$footer-header-text-align: end !default;
$footer-border-top: solid 2px var(--bs-table-color, #000) !default;
$mobile-style-selector: 'table.table-mobile:not(.table-horizontal)' !default;
$mobile-style-max-width: 576px !default;
$mobile-style-header-font-weight: 500 !default;
$mobile-style-header-background-color: var(--bs-body-bg, #fff) !default;
$mobile-style-button-selector: '.btn-sm' !default;
$mobile-style-border-bottom: var(--bs-border-style, solid) var(--bs-border-width, 1px) var(--bs-border-color, #dedede) !default;
$mobile-style-button-font-size: 1rem !default;
$mobile-style-button-padding: 0.375rem 0.75rem !default;
$pagination-ellipsis-content: '...' !default;
$pagination-active-color: var(--bs-light, #000) !default;
$pagination-justify-content: center !default;
$cell-padding-y: 0.5rem !default;
$cell-padding-x: 0.5rem !default;
$sort-selector: '.gt-sort' !default;

$table-column-header-bg: var(--bs-body-bg);
$table-row-header-bg: var(--bs-body-bg);

$delta-positive-prefix: '+' !default;

$sort-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 448 644'%3E%3Cpath transform='translate(0 240)' d='M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z'/%3E%3Cpath transform='translate(0 -100)' d='M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z'/%3E%3C/svg%3E") !default;
//$sort-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' class='icon icon-tabler icon-tabler-arrows-sort' width='24' height='24' viewBox='0 0 24 24' stroke-width='2' stroke='currentColor' fill='none' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath stroke='none' d='M0 0h24v24H0z' fill='none'%3E%3C/path%3E%3Cpath d='M3 9l4 -4l4 4m-4 -4v14'%3E%3C/path%3E%3Cpath d='M21 15l-4 4l-4 -4m4 4v-14'%3E%3C/path%3E%3C/svg%3E") !default;
$sort-icon-size: 1rem;
$sort-icon-color: rgba(var(--bs-secondary-rgb, #000),0.25) !default;
$sort-icon-color-active: var(--bs-primary, #000) !default;
$ascending-sort-gradient: linear-gradient(1turn,
  $sort-icon-color 50%,
  $sort-icon-color-active 50%
) !default;
$descending-sort-gradient: linear-gradient(
  $sort-icon-color 50%,
  $sort-icon-color-active 50%
) !default;
/*$ascending-sort-gradient: linear-gradient(0.25turn,
    $sort-icon-color 50%,
    $sort-icon-color-active 50%
) !default;
$descending-sort-gradient: linear-gradient(0.75turn,
    $sort-icon-color 50%,
    $sort-icon-color-active 50%
) !default;
*/

$skeleton-loader-highlight-color: var(--bs-gray-300, rgb(200,200,200)) !default;
$skeleton-loader-background-color: var(--bs-gray-200, rgb(240,240,240)) !default;
$skeleton-loader-mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' id='a' viewBox='0 0 768 135'%3E%3Cdefs/%3E%3Cpath fill='%23FFF' d='M114 10h100v24H114V10ZM114 55h120v24H114V55ZM114 100h130v24H114v-24ZM268 10h100v24H268V10ZM268 55h80v24h-80V55ZM268 100h100v24H268v-24ZM402 10h90v24h-90V10ZM402 55h70v24h-70V55ZM402 100h80v24h-80v-24ZM516 10h90v24h-90V10ZM516 55h110v24H516V55ZM516 100h120v24H516v-24ZM660 100h74v24h-74v-24ZM660 55h64v24h-64V55ZM660 10h84v24h-84V10ZM0 100h80v24H0v-24ZM0 55h70v24H0V55ZM0 10h90v24H0V10ZM0 134h768v1H0v-1ZM0 89h768v1H0v-1ZM0 44h768v1H0v-1Z' class='b'/%3E%3C/svg%3E") !default;
$skeleton-loader-mask-size: 768px 135px !default;

$skeleton-height: var(--gt-skeleton-height, 169px) !default;
@mixin styles() {
  @include default-style;
  @include footer-style;
  @include search-style;
  @include mobile-style;
  @include pagination-style;
  @include delta-style;
  @include sticky-style;
  @include skeleton-loader-styles;
}

@mixin default-style {
  #{$style-selector} {
    thead tr th {
      // sort button
      &[aria-sort],
      &.gt-sortable {
        > #{$sort-selector} {
          appearance: none;
          font: inherit;
          margin: 0;
          padding: $cell-padding-y $cell-padding-x;
          margin: -#{$cell-padding-y} -#{$cell-padding-x};
          border: none;
          background: none;
          color: inherit;
          width: 100%;
          text-align: left;
          display: flex;
          align-items: center;
          justify-content: inherit;
          transition: box-shadow 0.25s ease-in-out;
          &[data-sort-order]::before {
            content: attr(data-sort-order);
            order: 2;
            font-variant: diagonal-fractions;
            font-weight: normal;
            align-self: flex-start;
            line-height: initial;
          }
          &::after {
            content: '';
            background: $sort-icon-color;
            width: $sort-icon-size;
            height: $sort-icon-size;
            margin-left: 0.25rem;
            mask-image: $sort-icon;
            mask-repeat: no-repeat;
            mask-size: cover;
            mask-position: right;
            display: block;
            flex-shrink: 0;
          }
          &:focus-visible {
            box-shadow: inset rgba(var(--bs-primary-rgb, (0,0,0)),0.35) 0 0 0 4px;
            outline: none;
            border-radius: 4px;
          }
        }
      }
      &[aria-sort='ascending'] {
        #{$sort-selector}::after {
          background: $ascending-sort-gradient;
        }
      }
      &[aria-sort='descending'] {
        #{$sort-selector}::after {
          background: $descending-sort-gradient;
        }
      }
    }
    tr {
      th, td {
        padding: $cell-padding-y $cell-padding-x;
      }
    }
    tfoot {
      th {
        font-weight: $footer-header-font-weight;
        text-align: $footer-header-text-align;
      }
      td[data-header]:first-child {
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-top: none !important;
        &::before {
          content: attr(data-header);
          display: block;
          font-weight: $footer-header-font-weight;
        }
      }
    }
  }
}

@mixin footer-style {
  tfoot tr:first-child {
    border-top: $footer-border-top;
  }
  tfoot tr th {
    font-weight: $footer-header-font-weight;
  }
  tfoot tr td {
    font-weight: $footer-cell-font-weight;
  }
}

@mixin search-style {
  .gt-highlight-search {
    background: $highlight-background-color;
  }
}
@mixin mobile-style($selector: $mobile-style-selector) {
  @media (max-width: $mobile-style-max-width) {
    #{$selector} {
      table-layout: fixed;
      border-bottom: none;
      thead {
        position: sticky;
        top: 0;
        display: block;
        @media (hover: none) and (pointer: coarse) {
          display: table-header-group;
        }
        background: $mobile-style-header-background-color;
        tr {
          display: flex;
          overflow: auto;
          &::-webkit-scrollbar {
            display: none;
          }
          th {
            flex: auto;
            text-align: left !important;
            white-space: nowrap;
          }
        }
      }
      tbody, tfoot {
        tr {
          display: flex;
          flex-direction: column;
          border-bottom: $mobile-style-border-bottom;
        }
        td {
          display: flex;
          justify-content: space-between;
          align-items: center;
          border-top: none !important;
          &::before {
            content: attr(data-label);
            display: block;
            font-weight: $mobile-style-header-font-weight;
          }

          #{$mobile-style-button-selector} {
            width: 100%;
            font-size: $mobile-style-button-font-size;
            padding: $mobile-style-button-padding;
          }
        }
      }
      tfoot {
        td:first-child::before {
          font-weight: $mobile-style-header-font-weight;
        }
        td::before {
          font-weight: normal;
        }
        td:not(:first-child).gt-no-content {
          display: none;
        }
      }
    }
  }
}
@mixin pagination-style() {
  nav.gt-pagination {
    display: flex;
    justify-content: $pagination-justify-content;
    ul {
      display: inline-flex;
      list-style: none;
      margin: 0;
      padding: 0;
      li {
        &.gt-ellipsis > button::after {
          content: $pagination-ellipsis-content;
          display: inline-flex;
        }
        &.active button {
          color: $pagination-active-color;
        }
      }
    }
  }
}

@mixin delta-style() {
  .gt-delta {
    display: flex;
    &.gt-delta-positive > span {
      display: inline-flex;
      &::before {
        display: block;
        content: $delta-positive-prefix;
      }
    }
  }
}
@mixin sticky-style() {
  .gt-sticky-column-header thead tr th {
    position: sticky;
    top: 0;
    background: $table-column-header-bg;
    z-index: 2;
    white-space: nowrap;
  }

  .gt-sticky-row-header {
    tbody tr th.row-header, thead tr th:first-child {
    position: sticky;
    left: 0;
    background: $table-row-header-bg;
    z-index: 1;
    white-space: nowrap;
    }
    thead tr th:first-child {
      z-index: 3;
    }
  }
}

@mixin skeleton-loader-styles() {
  .gt-skeleton-loader {
    margin:0 0 0.625rem 0;
    --gt-skeleton-loader-mask: #{$skeleton-loader-mask};
    --gt-skeleton-loader-highlight-color: #{$skeleton-loader-highlight-color};
    --gt-skeleton-loader-bg-color: #{$skeleton-loader-background-color};
    @keyframes skeleton-loader {
      0% {
        background-position: 0 0;
      }
      25%,
      100% {
        background-position: 200vw 0;
      }
    }
    height: $skeleton-height;
    mask-image: var(--gt-skeleton-loader-mask);
    mask-size: $skeleton-loader-mask-size;
    background: linear-gradient(
        280deg,
        $skeleton-loader-background-color 12.5%,
        $skeleton-loader-highlight-color 17.5%,
        $skeleton-loader-background-color 37.5%
    );
    background-size: 200vw 100vw;
    background-position: 0 0;
    animation: skeleton-loader 3000ms linear infinite;
  }
}

